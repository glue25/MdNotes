本文档暂不考虑设置问题

https://vimhelp.org/usr_toc.txt.html

# 移动命令

| 动作                                | 键   | 备注               |
| ----------------------------------- | ---- | ------------------ |
| 向上                                | k    |                    |
| 向下                                | j    |                    |
| 向左                                | h    |                    |
| 向右                                | l    |                    |
| 光标移动到行首                      | 0    |                    |
| 光标移动到行尾                      | $    |                    |
| 下个单词首字符                      | w    |                    |
| 下个广义单词首字符                  | W    |                    |
| 单词尾字符                          | e    |                    |
| 广义单词尾字符                      | E    |                    |
| 上一个单词首字符                    | b    |                    |
| 上一个广义单词首字符                | B    |                    |
| 到一行内光标后一个为x的字符         | fx   |                    |
| 到一行内光标前一个为x的字符         | Fx   |                    |
| 到一行内光标后一个为x的字符前的位置 | t    |                    |
| 到一行内光标前一个为x的字符后的位置 | T    |                    |
| 可以在括号两边之间跳                | %    | 【？】             |
| 查找下一个光标所在的单词            | *    |                    |
| 查找上一个光标所在的单词            | #    |                    |
| 非空格符的下一行                    | +    | Vscode里暂时用不了 |
| 非空格符的上一行                    | -    | Vscode里暂时用不了 |

\*广义单词指被空格分隔的文本，如两个空格间的一段文字



行跳转

| 动作                     | 键      | 备注 |
| ------------------------ | ------- | ---- |
| 跳到当前文件第n行        | nG      |      |
| 光标移动到当前文件的首行 | gg / 1G |      |
| 光标移动到当前文件的末尾 | G       |      |
| 跳到当前文件第n行        | :n      |      |
| 跳到当前文件第1行        | :1 / :0 |      |
| 光标移动到当前文件的末尾 | :$      |      |
| 选几行                   | :xx,xx  |      |



看着不常用的跳转

| 动作                           | 键     | 备注               |
| ------------------------------ | ------ | ------------------ |
| 向下移一屏                     | Ctrl+f | 在Vscode中被替换了 |
| 向上移一屏                     | Ctrl+b |                    |
| 向下移半屏                     | Ctrl+d |                    |
| 向上移半屏                     | Ctrl+u |                    |
| 跳到当前屏最上方一行第一个字母 | H      |                    |
| 跳到当前屏中间一行第一个字母   | M      |                    |
| 跳到当前屏最下方一行第一个字母 | L      |                    |





# 操作命令



| 键   |                                        | 备注                                                         |
| ---- | -------------------------------------- | ------------------------------------------------------------ |
| o    | 从当前光标下面创建新的一行             |                                                              |
| O    | 从当前光标上面创建新的一行             |                                                              |
| x    | 删光标后字符                           |                                                              |
| X    | 删光标前字符                           |                                                              |
| d    | 删除                                   |                                                              |
| D    | d$                                     |                                                              |
| dd   | 删除整行                               |                                                              |
| y    | 复制                                   |                                                              |
| yy   | 复制整行                               |                                                              |
| p    | 粘贴                                   |                                                              |
| v    | 可视模式                               |                                                              |
| CR-v | 块选择模式                             |                                                              |
| c    | 删除并进插入模式                       |                                                              |
| C    | 删至行末并进插入模式                   |                                                              |
| cc   | 删整行并进插入模式                     |                                                              |
| r    | 单个替换                               |                                                              |
| R    | 连续替换                               |                                                              |
| s    | 删除光标盖住的字符                     | Vscode里暂时用不了                                           |
| S    | 删除光标所在行                         | Vscode里暂时用不了                                           |
| J    | 将光标所在行与下一行的数据结合成同一行 | 会自动加空格                                                 |
| .    | 重复上一次操作                         | 只是移动操作不会重复，宏操作在vscode不会重复                 |
| co   | 多行复制                               | :1,10 co 20 将1-10行插入到第20行之后<br />:1,\$ co $ 将整个文件复制一份并添加到文件尾部 |
| m    | 多行移动                               | 1, 10 m 20 将第1-10行移动到第20行之后                        |
| u    | 复原上一个操作                         |                                                              |
| U    | 撤销所有操作                           | ?                                                            |
| CR-r | 撤销复原                               |                                                              |
| CR-r | 撤销复原                               |                                                              |









# 文本模式



| 范围 | 键      | 备注 |
| ---- | ------- | ---- |
| 单词 | w       |      |
| 括号 | ({[ ]}) |      |
|      |         |      |



# 替换

用v选中再p可以大段替换



normal模式的替换操作规则

- 基本格式：`:s/old/new/`这个指令代表替代当前行第一个匹配的old。替换是可以使用正则表达式的
- 在s前面加% ： 相当于选中所有行进行操作
- 在s前面加:n,m ： 对选中的行进行操作（:1,$s/old/new/和:%s/old/new/一样）
- 在最后的/后面加c ： 在每个旧字符替换时进行确认
- 在最后的/后面加g ： 替换范围内所有的旧字符



|                | 作用                                                         | 备注 |
| -------------- | ------------------------------------------------------------ | ---- |
| :s/old/new/    | 用old替换new，替换当前行的第一个匹配                         |      |
| :s/old/new/g   | 用old替换new，替换当前行的所有匹配                           |      |
| :%s/old/new/   | 用old替换new，替换所有行的第一个匹配                         |      |
| :%s/old/new/g  | 用old替换new，替换整个文件的所有匹配                         |      |
| :%s/old/new/gc | 用old替换new，替换整个文件的所有匹配，并在每个单词替换时进行提示 |      |
| :10,20 s/^/    | 在第10行知第20行每行前面加四个空格，用于缩进                 |      |




# 一部分查找相关

命令模式下的查找操作（`/`与`?`应该都是支持正则表达式的）==（查找.*[]^%/?~$时注意转义）==

| 键   |                            | 备注                                             |
| ---- | -------------------------- | ------------------------------------------------ |
| /xxx | 向光标之下查找关键字xxx    |                                                  |
| ?xxx | :向光标之上查找关键字xxx   |                                                  |
| n/N  | n重复上一个搜索操作，N反向 |                                                  |
| *    | 查找下一个光标所在的单词   | 和上面不同，这个本质上属于移动，可以和v,p...配合 |
| #    | 查找上一个光标所在的单词   | 同上                                             |



# 插入模式下的快捷键



| 键       |                              | 备注               |
| -------- | ---------------------------- | ------------------ |
| Ctrl + y | 复制并粘贴位于光标上方的文本 |                    |
| Ctrl + e | 复制并粘贴位于光标下方的文本 |                    |
| Ctrl + p | 单词不全                     | 在Vscode中被覆盖了 |







# Jump

这个是可以跨文件的，

| 动作           | 键     | 备注 |
| -------------- | ------ | ---- |
| 查看跳转表     | :jump  |      |
| 跳回上一个位置 | Ctrl+o |      |
| 跳到下一个位置 | Ctrl+i |      |



# 书签

| 动作             | 键                          | 备注                         |
| ---------------- | --------------------------- | ---------------------------- |
| 创建书签         | m{bookmark-name}（Ex : ma） | 只能是单个字符，最好是字母吧 |
| 跳到书签确切位置 | `{bookmark-name}            | 注意是反引号                 |
| 跳到书签行的开头 | ‘{bookmark-name}            | 正引号                       |
| 列出所有书签     | :marks                      |                              |
| 删除书签         | :delmarks {bookmark-name}   | Vscode下好像用不了           |
| 全局书签         |                             | 书签名是大写                 |



# 寄存器

| 动作     | 键   | 备注 |
| -------- | ---- | ---- |
| 创建书签 | m    |      |







# 宏

| 动作       | 键            | 备注             |
| ---------- | ------------- | ---------------- |
| 录制宏     | q+小写字母    | 小写字母是宏名称 |
| 结束录制宏 | q             |                  |
| 播放录制   | @{macro-name} |                  |
| 查看宏     | :registers    |                  |

宏好像用不了`.`，可以数字+@{macro-name}重复执行





# 简便操作

- d$：D

- 删除整行：dd

- 删除整行并进入编辑：cc  =====

- 复制整行：yy

- 交换光标所在行和其下一行：ddp 

- :1,10d 删除1-10行

  :11,$d 删除11行及以后所有的行

  :1,$d 删除所有行

  （==：xx,xx==）

