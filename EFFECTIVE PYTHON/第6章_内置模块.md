# 摘要





# 目录

# 第42条:用functools.wraps定义函数修饰器

使用@符号来修饰函数，其效果就等于先以该函数为参数，调用修饰器，然后把 修饰器所返回的结果，赋给同一个作用域中与原函数同名的那个变量。

这个机制下的副作用是会把修饰器内部的相应函数传递给模块中的同名变量。

functools.wraps可以解决这一问题，他可以把与内部函数相关的重要元数据全部复制到外围函数。

对于调试器这种依靠内省机制的工具，直接编写修饰器会引发奇怪的行为。修饰器还可能导致一些难以排查的问题。



# 第43条：考虑以contextlib和with语句来改写复用的try/finally 代码

说白了就是实现上下文管理器协定，昝略



# 第44条：用copyreg实现可靠的pickle操作

内置的pickle模块能够将Python对象序列化为字节流，也能把这些字节反序列化为 Python对象。

书中提示，用于**通信**时，pickle不安全，可能被混入恶意代码，而JSON数据安全。

pickle做的事就是把对象序列化，提供了一种保存/提取对象的方法。

![image-20200711091151345](E:%5CMDNotes%5CEFFECTIVE%20PYTHON%5C%E7%AC%AC6%E7%AB%A0_%E5%86%85%E7%BD%AE%E6%A8%A1%E5%9D%97.assets%5Cimage-20200711091151345.png) 

不过这个被打包的实例所属的类改变后，这个示例再解压出来就过时了，比如会缺元素什么的。

而`copyreg`模块可以被用来控制pickle操作的行为。



==**未完**==





# 第45条：应该用datetime模块来处理本地时间，而不是用time模块







# 第46条：使用内置算法与数据结构





# 第47条：在重视精确度的场合，应该使用decimal

提供定点数，高精度需求时应该使用它

**<u>相似的，有理数类Fraction类被包含在fractions模块中</u>**。

*<u>这种明显就是用到了再看就来得及的</u>*



# 第48条：学会安装由Python开发者社区所构建的模块

略





