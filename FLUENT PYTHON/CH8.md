

# 变量

## 变量的性质

Python中的变量是标签，而不是盒子，不同的标签可以贴在同一个数据上。

不同的变量可能值是一样的。

## is与==

`id()`函数返回对象的唯一表示，在`CPython`中`id()`返回对象的内存地址。不过编程中更常用的是`is`运算符，`is`运算符就是在比较两个对象的`id()`函数返回值。

`==`就是`.__eq__()`，速度会比`is`慢一些。*<u>自定义类的对象中，如果没重写`__eq__`那么会直接调用`id()`进行对比，标准库数据类型的`__eq__`一般都重写过了</u>*。

## 元组的相对不可变性

**<u>元组与多数 Python 集合（列表、字典、集，等等）一样，保存的是对象的引用。</u>**而 str、bytes 和 array.array 等单一类型序列是扁平的，它们保存的不是引用，而是在连续的内存中保存数据本身（字符、字节和数字）。

元组本身是不可变的，然而元组内存的只是对象的引用，所以改变元组内对象（如list）的值是可行的，从更常见的场景来说，改变元组中的list是不会报错的。

# 复制

## 默认做浅复制

浅复制即复制了最外层容器，副本中的元素是源容器中元素的引用。改变副本中的**可变元素**会使原变量中的相应变量改变，如果改变的是不可变元素（如tuple），副本会新建一个不可变元素。这样也是有好处的，由于只是复制了地址，所以省内存。

## 深复制与浅复制

`copy.copy()`和`copy.deepcopy()`分别进行浅复制和深复制。深复制可能太深了，这个可以通过实现特殊方法` __copy__()` 和` __deepcopy__()`进行控制（具体还是要看<a href='http://docs.python.org/3/library/copy.html'>copy模块的文档</a>）。















==提示==作者推荐了一个<a href='http://www.pythontutor.com'>教学用的网站</a>