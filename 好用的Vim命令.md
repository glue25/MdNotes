//不熟的指令我会用色块标记 =====



光标的移动

- 向上：k
- 向下：j
- 向左：h
- 向右：l
- 光标移动到行首：0
- 光标移动到行尾：$
- 光标移动到当前文件的首行：gg（相当于1G） =====
- 光标移动到当前文件的末尾：G =====
- 光标快速定位到某一行：行号+G =====
- 另一套跳转：
  - `:行号`：到第n行
  - `:行0`：到第1行
  - `:$`：到最后一行
  - `:xx,xx`选行，可以加`y` `d`，可能还能加别的 =====
- 下个单词首字母：w
- 单词末尾：e
- 上一个单词开头：b =====
- 非空格符的下一行：+ =====
- 非空格符的上一行：- =====
- ![image-20200918171345962](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918171345962.png) 
- 我认为不会常用的：
  - ![image-20200918155853575](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918155853575.png) 
  - ![image-20200918155925662](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918155925662.png) 
- 


命令模式下操作：

- 删字符：x（光标后），X（光标前）
- 删光标前面位置的字符：
- 复原上一个操作：u =====
- 撤销所有操作：U ==（感觉这个操作很危险）==
- 撤销复原：cr-r
- 删除：d
- 复制：y
- 单个替换：r
- 连续替换：R =====
- 粘贴：p（光标后），P（光标前） =====
- 可视模式：v
- 将光标所在行与下一行的数据结合成同一行J ===（好像会自动加空格）==
- 删除加插入:c ===（这个功能是我猜的）==
- 删单词并写：ciw
- 删括号里的内容并写：ci+括号，==（前提是光标在括号里）==
- f（find）命令也可以用于移动，fx将找到光标后第一个为x的字符，3fd将找到第三个为d的字符。 =====
- t:到目标文字前
- F 同f，反向查找。 =====
- co多行复制 例子： =====
  - :1,10 co 20 将1-10行插入到第20行之**<u>后</u>**。
  - :1,\$ co $ 将整个文件复制一份并添加到文件尾部。
- m多行移动 例子：
  - :1, 10 m 20 将第1-10行移动到第20行之后。
- 



简便操作

- d$：D

- 删除整行：dd

- 复制整行：yy

- 交换光标所在行和其下一行：ddp 

- :1,10d 删除1-10行

  :11,$d 删除11行及以后所有的行

  :1,$d 删除所有行

  （==：xx,xx==）

  



命令模式下的查找操作（`/`与`?`应该都是支持正则表达式的）==（查找.*[]^%/?~$时注意转义）==

- /xxx:向光标之下查找关键字xxx
- ?xxx:向光标之上查找关键字xxx
- 关键字xxx切换：n/N，n重复上一个搜索操作，N进行反向前一个。
- 光标下的查找（光标放在单词上）：
  - 查找下一个单词：*
  - 查找上一个单词：#



![image-20200919175121141](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200919175121141.png) 







![image-20200919193848589](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200919193848589.png) 

==**待完善**==

![image-20200918173237589](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918173237589.png) 



从命令模式下切换到编辑模式

- a：从当前光标的后面开始插入新的内容
- A: 行尾开始插入新的内容
- i: 从当前光标的前面插入新的内容
- I: 行首开始插入新的内容
- o: 从当前光标下面创建新的一行
- O: 从当前光标上面创建新的一行
- s: 删除光标盖住的字符 ==vs上用不了==
- S: 删除光标所在行 ==vs上用不了==



==**待完善**==





末行模式的替换操作

==这一部分了解的比较少==

--------------------------------

区分：

第一个/前：`s`当前行，`%s`所有行，`:行号：行号s`两个行号之间。

【`:1,$s`与`%s`等效】 ==是不是$有最后字符的意思？算了，先当特例记下来吧==

最后一个/后：''(什么都没有)替换选中行第一个匹配的，`g`：替换选中行的所有匹配，`c`：替换范围内所有的旧字符并在替换时添加提示信息。



--------------------------------



- 替换光标所在行的旧字符：:s/旧字符/新字符/gc


- s/old/new/ 用old替换new，替换当前行的第一个匹配
- s/old/new/g 用old替换new，替换当前行的所有匹配
- %s/old/new/ 用old替换new，替换所有行的第一个匹配
- %s/old/new/g 用old替换new，替换整个文件的所有匹配
- :10,20 s/^/     /g 在第10行知第20行每行前面加四个空格，用于缩进。 ===？最后两个/之间是4个空格==



**其中**：g: 替换范围内所有的旧字符；c: 替换范围内所有的旧字符并在替换时添加提示信息；





















![image-20200918170704083](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918170704083.png) 

# 行号

![image-20200918204732605](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918204732605.png) 







# 批量注释

![image-20200918214527960](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918214527960.png) 

## 注意两件事：

1. 例子1 2同样是替换，只是里用`#`替代`/`
2. 行开头的字符是`^`







# Vim处理多件事

![image-20200918174106070](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918174106070.png) 

vscode的插件下也能用，不过Linux下可能看着更流畅。

这个介绍应该不是很全，没有说明怎么删除窗口

https://www.yiibai.com/vim/vim_working_with_multiple_things.html

![image-20200919195645478](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200919195645478.png) 

# 书签

挺简单的，可以用于跳转，不过如果忘记了创建了哪些标签还是要查询的

https://www.yiibai.com/vim/vim_markers.html



# 录制宏

相当快捷键组合，可以搞一些常规模式加行/加格的



# 寄存器

用起来很舒服，具体的规则不知道，但链接里给出来的就已经很舒服了。

https://www.yiibai.com/vim/vim_registers.html



#### 1. 复制寄存器中的文本

对于复制，可以使用普通的`yank`命令，即`yy`并将其存储在寄存器中，可以使用以下语法 -

```shell
"<register-name><command>
```

例如，要复制寄存器`a`中的文本，请使用以下命令 -

```shell
"ayy
```

#### 2. 粘贴寄存器中的文本

从寄存器粘贴文本 -

```shell
"<register-name>p
```

例如，下面的命令从寄存器`a`复制文本 -

```shell
"ap
```

#### 3. 列出可用的寄存器

要列出所有可用的寄存器，请使用以下命 - 

```shell
:registers
```

#### 4. 注册类型

Vim支持以下类型的寄存器 - 

**未命名的寄存器**
未命名的寄存器用`""`表示。 Vim在此注册表中存储已删除或复制的文本。

**命名寄存器**
可以使用`26`个命名寄存器; 可以使用`a-z`或`A-Z`。 默认情况下，vim不使用这些寄存器。
如果使用小写寄存器名称，那么内容将被覆盖，如果使用大写名称，则内容将被附加在该寄存器中。

**编号寄存器**
可以使用`0`到`9`个命名寄存器。 Vim用来自`yank`和`delete`命令的文本填充这些寄存器。

- 编号寄存器`0`包含最近的`yank`命令中的文本。
- 编号寄存器`1`包含最近删除或更改命令删除的文本

【**<u>看来是说这部分是VIM可能要用的</u>**】

![image-20200918204036162](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200918204036162.png) 



https://www.yiibai.com/vim/vim_folding.html









# 折叠

https://www.yiibai.com/vim/vim_folding.html

具体规则的没太看懂，应该是折代码块，看不懂







# diff寻找差异

https://www.yiibai.com/vim/vim_diff.html

以后应该会常用于二进制分析，现在先记下有这么回事



# 插件

https://www.yiibai.com/vim/vim_plug_ins.html



# 页面技巧

## 语法突出显示

开启

```shell
:syntax on
```

关闭

```shell
:syntax off
```



## 智能缩进

要执行自动和智能缩进，请使用以下命令 -

```shell
: set autoindent 
: set smartindent
```

除此之外，可以使用以下命令自动缩进C代码 -

```shell
: set cindent
```



## 跳转

`%`可以在括号两边之间跳。 =====



## 执行shell命令

从Vim编辑器用户执行单个命令 -

```shell
:!<command>
```

例如，要执行`pwd`命令，请使用以下语法 -

```shell
:!pwd
```

但是，如果想要多个shell命令，请执行以下命令 -

```shell
:shell
```

上面的命令将为您提供终端访问权限，可以在其中执行多个命令。完成后，只需输入`exit`命令即可返回Vim会话。



![image-20200919195738692](E:%5CMDNotes%5C%E5%A5%BD%E7%94%A8%E7%9A%84Vim%E5%91%BD%E4%BB%A4.assets%5Cimage-20200919195738692.png) 

（==重点注意最后一个==）



## 配置ctags和cscope

`ctags`和`csope`的组合提供了许多有用的功能，如转到函数定义，转到函数声明，查找函数调用，搜索文件等等

https://www.yiibai.com/vim/vim_using_vim_as_ide.html





# 远程编辑

https://www.yiibai.com/vim/vim_remote_file_editing.html



# 技巧

## 将空格转换为制表符，反之亦然

**将制表符转换为空格**

如果正在编辑文件并且想要将输入的制表符转换为空格，请执行以下命令 -

```shell
:set expandtab
Shell
```

请注意，此命令不会将现有制表符更改为空格。要实现此目的，执行以下命令 -

```shell
:set tabstop = 4 shiftwidth = 4 expandtab 
:retab
Shell
```

在上面的命令中，指示Vim将标签转换为`4`个空格

**将空格转换为制表符**

要将空格转换为标签，请执行以下命令 -

```shell
:set noexpandtab :retab!
```

//原文出自【易百教程】，商业转载请联系作者获得授权，非商业转载请保留原文链接：https://www.yiibai.com/vim/vim_tips_and_tricks.html 



## 突出拼写错误的单词

```shell
:set spell
```



## 单词完成

Vim还提供单词完成功能。对于此插入模式下的执行以下命令 -

```shell
Ctrl + p
```



## 逐行复制字符

使用以下命令逐个字符地复制和粘贴行 -

| 编号 | 命令       | 描述                         |
| ---- | ---------- | ---------------------------- |
| 1    | `Ctrl + y` | 复制并粘贴位于光标上方的文本 |
| 2    | `Ctrl + e` | 复制并粘贴位于光标下方的文本 |

请注意，必须在**插入模式**下使用这些命令。



## 缩进代码

如果要缩进的代码，请执行以下命令 -

```shell
=%
```

这个可以用录制宏的方式一下处理很多行吧



## 更改文件格式

要将文件格式更改为UNIX，请执行以下命令 -

```shell
:set ff = unix
```

要将文件格式更改为DOS，请执行以下命令 -

```shell
:set ff = dos
```





# 个性化

https://www.yiibai.com/vim/vim_personalization.html





# 官网

https://www.vim.org/

# Vim脚本指南

https://vim.sourceforge.io/scripts/index.php



:set list 显示非打印字符，如tab，空格，行尾等。如果tab无法显示，请确定用set lcs=tab:>-命令设置了.vimrc文件，并确保你的文件中的确有tab，如果开启了expendtab，那么tab将被扩展为空格。











【***<u>还有很多好玩的功能，慢慢接触</u>***】

































